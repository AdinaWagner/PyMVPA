From: Yaroslav Halchenko <debian@onerussian.com>
Subject: BF: use inheritance_diagram provided by sphinx on recent sphinx.  Closes: #706534

--- a/doc/conf.py
+++ b/doc/conf.py
@@ -11,6 +11,8 @@
 # All configuration values have a default value; values that are commented out
 # serve to show the default value.
 
+from distutils.version import LooseVersion
+
 import sys, os, re
 import numpy as N
 import mvpa
@@ -21,6 +23,8 @@ try:
 except:
     pass
 
+import sphinx
+
 ##################################################
 # Config settings are at the bottom of the file! #
 ##################################################
@@ -270,8 +274,12 @@ sys.path.append(os.path.abspath('sphinxe
 
 # Add any Sphinx extension module names here, as strings. They can be extensions
 # coming with Sphinx (named 'sphinx.ext.*') or your custom ones.
+
+# Use shipped inheritance_diagram on older sphinx'es
+id_space = "sphinx.ext." if LooseVersion(sphinx.__version__) >= '1.1.3' else ""
+
 extensions = ['sphinx.ext.autodoc',
-              'inheritance_diagram']
+              id_space + 'inheritance_diagram']
 
 # Add any paths that contain templates here, relative to this directory.
 templates_path = ['_templates']
